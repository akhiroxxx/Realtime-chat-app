{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Akhilesh/OneDrive/Desktop/MERN-CHAT-APP/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Akhilesh/OneDrive/Desktop/MERN-CHAT-APP/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Akhilesh/OneDrive/Desktop/MERN-CHAT-APP/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{FormControl,FormLabel,Input,InputGroup,InputRightElement,useToast}from\"@chakra-ui/react\";import React from\"react\";import{VStack}from\"@chakra-ui/react\";import{useState}from\"react\";import{Button}from\"@chakra-ui/react\";import axios from\"axios\";import{useHistory}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setloading=_useState8[1];var toast=useToast();var history=useHistory();var handleClick=function handleClick(){return setShow(!show);};var postDetails=function postDetails(pics){};var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var config,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setloading(true);if(!(!email||!password)){_context.next=5;break;}toast({title:\"Please fill all the fields\",status:\"warning\",duration:5000,isClosable:true,position:\"bottom\"});setloading(false);return _context.abrupt(\"return\");case 5:_context.prev=5;config={header:{\"Content-type\":\"application/json\"}};_context.next=9;return axios.post(\"/api/user/login\",{email:email,password:password},config);case 9:_yield$axios$post=_context.sent;data=_yield$axios$post.data;toast({title:\"Login Successful\",status:\"success\",duration:5000,isClosable:true,position:\"bottom\"});localStorage.setItem(\"userInfo\",JSON.stringify(data));setloading(false);history.push(\"/chats\");_context.next=21;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](5);toast({title:\"Error Occurred\",description:_context.t0.response.data.message,status:\"error\",duration:5000,isClosable:true,position:\"bottom\"});setloading(false);case 21:case\"end\":return _context.stop();}},_callee,null,[[5,17]]);}));return function submitHandler(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(VStack,{spacing:\"5px\",color:\"black\",children:[/*#__PURE__*/_jsxs(FormControl,{id:\"email\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"Enter Your Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(FormControl,{id:\"password\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password\"}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(Input,{type:show?\"text\":\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(InputRightElement,{width:\"4.5rem\",children:/*#__PURE__*/_jsx(Button,{h:\"1.75rem\",size:\"sm\",onClick:handleClick,children:show?\"Hide\":\"Show\"})})]})]}),/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",width:\"100%\",style:{marginTop:15},onClick:submitHandler,isLoading:loading,children:\"Login\"}),/*#__PURE__*/_jsx(Button,{variant:\"solid\",colorScheme:\"red\",width:\"100%\",onClick:function onClick(){setEmail(\"guest@example.com\");setPassword(\"123456\");},children:\"Use Guest User Credentials\"})]});};export default Login;","map":{"version":3,"names":["FormControl","FormLabel","Input","InputGroup","InputRightElement","useToast","React","VStack","useState","Button","axios","useHistory","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","show","setShow","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","_useState7","_useState8","loading","setloading","toast","history","handleClick","postDetails","pics","submitHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","config","_yield$axios$post","data","wrap","_callee$","_context","prev","next","title","status","duration","isClosable","position","abrupt","header","post","sent","localStorage","setItem","JSON","stringify","push","t0","description","response","message","stop","apply","arguments","spacing","color","children","id","isRequired","placeholder","value","onChange","e","target","type","width","h","size","onClick","colorScheme","style","marginTop","isLoading","variant"],"sources":["C:/Users/Akhilesh/OneDrive/Desktop/MERN-CHAT-APP/frontend/src/components/Authentication/Login.js"],"sourcesContent":["import {\r\n  FormControl,\r\n  FormLabel,\r\n  Input,\r\n  InputGroup,\r\n  InputRightElement,\r\n  useToast,\r\n} from \"@chakra-ui/react\";\r\nimport React from \"react\";\r\nimport { VStack } from \"@chakra-ui/react\";\r\nimport { useState } from \"react\";\r\nimport { Button } from \"@chakra-ui/react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst Login = () => {\r\n  const [show, setShow] = useState(false);\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [loading, setloading] = useState(false);\r\n  const toast = useToast();\r\n  const history = useHistory();\r\n  const handleClick = () => setShow(!show);\r\n\r\n  const postDetails = (pics) => {};\r\n\r\n  const submitHandler = async () => {\r\n    setloading(true);\r\n    if (!email || !password) {\r\n      toast({\r\n        title: \"Please fill all the fields\",\r\n        status: \"warning\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n        position: \"bottom\",\r\n      });\r\n      setloading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const config = {\r\n        header: {\r\n          \"Content-type\": \"application/json\",\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.post(\r\n        \"/api/user/login\",\r\n        {\r\n          email,\r\n          password,\r\n        },\r\n        config\r\n      );\r\n      toast({\r\n        title: \"Login Successful\",\r\n        status: \"success\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n        position: \"bottom\",\r\n      });\r\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n      setloading(false);\r\n      history.push(\"/chats\");\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Error Occurred\",\r\n        description: error.response.data.message,\r\n        status: \"error\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n        position: \"bottom\",\r\n      });\r\n      setloading(false);\r\n    }\r\n  };\r\n  return (\r\n    <VStack spacing=\"5px\" color=\"black\">\r\n      <FormControl id=\"email\" isRequired>\r\n        <FormLabel>Email</FormLabel>\r\n        <Input\r\n          placeholder=\"Enter Your Email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n      </FormControl>\r\n      <FormControl id=\"password\" isRequired>\r\n        <FormLabel>Password</FormLabel>\r\n        <InputGroup>\r\n          <Input\r\n            type={show ? \"text\" : \"password\"}\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <InputRightElement width=\"4.5rem\">\r\n            <Button h=\"1.75rem\" size=\"sm\" onClick={handleClick}>\r\n              {show ? \"Hide\" : \"Show\"}\r\n            </Button>\r\n          </InputRightElement>\r\n        </InputGroup>\r\n      </FormControl>\r\n\r\n      <Button\r\n        colorScheme=\"blue\"\r\n        width=\"100%\"\r\n        style={{ marginTop: 15 }}\r\n        onClick={submitHandler}\r\n        isLoading={loading}\r\n      >\r\n        Login\r\n      </Button>\r\n      <Button\r\n        variant=\"solid\"\r\n        colorScheme=\"red\"\r\n        width=\"100%\"\r\n        onClick={() => {\r\n          setEmail(\"guest@example.com\");\r\n          setPassword(\"123456\");\r\n        }}\r\n      >\r\n        Use Guest User Credentials\r\n      </Button>\r\n    </VStack>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}